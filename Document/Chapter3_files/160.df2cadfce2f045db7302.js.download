(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{"/yi3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=(n("YFKU"),n("q1tI")),r=n("17x9"),s=n("Eyy1"),c=n("1TxM"),o=Object(c.b)();function l(e){var t;return(t=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i._priceScale=null,i._handleSelect=function(){var e=i.context.chartWidget.model(),t=Object(s.ensureNotNull)(i.state.series),n=t.priceScale(),a=n.mode();t.priceScale().isLockScale()||e.setPriceScaleMode({percentage:!a.percentage},n,window.t("Toggle Percentage Scale"))},Object(c.c)(n,{chartWidget:r.any.isRequired}),i.state={isActive:!1,series:null},i}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){var e=this,t=this.context.chartWidget;t.withModel(null,(function(){var n=t.model().mainSeries(),i=n.priceScale();e._handleMainSeriesPriceScaleChanged(i),n.priceScaleChanged().subscribe(e,e._handleMainSeriesPriceScaleChanged),e._handleScaleChange({},i.mode()),e.setState({isActive:n.priceScale().isPercentage(),series:n})}))},n.prototype.componentWillUnmount=function(){var e=this,t=this.context.chartWidget;t.withModel(null,(function(){t.model().mainSeries().priceScaleChanged().unsubscribe(e,e._handleMainSeriesPriceScaleChanged)})),null!==this._priceScale&&(this._priceScale.modeChanged().unsubscribeAll(this),this._priceScale=null)},n.prototype.render=function(){var t=this.props.className,n=this.state,i=n.isActive,r=n.series;return a.createElement(e,{className:t,isPercentage:i,isDisabled:null===r,onClick:this._handleSelect})},n.prototype._handleMainSeriesPriceScaleChanged=function(e){var t={};null!==this._priceScale&&(t=this._priceScale.mode(),this._priceScale.modeChanged().unsubscribe(this,this._handleScaleChange)),this._priceScale=e,this._priceScale.modeChanged().subscribe(this,this._handleScaleChange),this._handleScaleChange(t,e.mode())},n.prototype._handleScaleChange=function(e,t){e.percentage!==t.percentage&&this.setState({isActive:t.percentage})},n}(a.PureComponent)).contextType=o,t}},"5o6O":function(e,t,n){e.exports={tabs:"tabs-1LGqoVz6",tab:"tab-1Yr0rq0J",noBorder:"noBorder-oc3HwerO",disabled:"disabled-s8cEYElA",active:"active-37sipdzm",defaultCursor:"defaultCursor-Np9BHjTg",slider:"slider-1-X4lOmE",content:"content-2asssfGq"}},Jffj:function(e,t,n){"use strict";var i=n("q1tI"),a=n("TSYQ"),r=n("K3s3"),s=n("W9Y+");function c(e){var t,n=a(e.className,s.item,((t={})[s.isActive]=e.isActive,t[s.isFirst]=e.isFirst,t[s.isLast]=e.isLast,t));return i.createElement("div",{className:n,onClick:e.onClick,ref:e.reference},e.children)}var o=n("nPPD"),l=n("RZ2Z"),u=Object(o.a)(r.a,l);var d=n("qSb5"),h=Object(r.d)((function(e){return i.createElement("div",{className:a(e.className,u.slider),ref:e.reference},i.createElement("div",{className:u.inner}))}));var p=n("g/A1");n.d(t,"a",(function(){return v}));var v=Object(p.a)((function(e){var t=e.className,n=e.ranges,r=e.activeRange,s=e.onSelectRange;return i.createElement(h,{className:a(d.sliderRow,t),"data-name":"date-ranges-tabs"},n.map((function(e,t){
return i.createElement(c,{key:e.value,isFirst:0===t,isLast:t===n.length-1,isActive:r===e.value,onClick:s&&s.bind(null,e)},i.createElement("div",{title:e.description||e.text,className:"apply-common-tooltip"},e.text))})))}))},K3s3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));var i=n("mrSG"),a=n("q1tI"),r=n("TSYQ"),s=n("Eyy1"),c=n("5o6O"),o=c;function l(e){var t,n=r(e.className,c.tab,((t={})[c.active]=e.isActive,t[c.disabled]=e.isDisabled,t[c.defaultCursor]=!!e.shouldUseDefaultCursor,t[c.noBorder]=!!e.noBorder,t));return a.createElement("div",{className:n,onClick:e.onClick,ref:e.reference},e.children)}function u(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeTab={current:null},e}return Object(i.__extends)(n,t),n.prototype.componentDidUpdate=function(){Object(s.ensureNotNull)(this._slider).style.transition="transform 350ms",this._componentDidUpdate()},n.prototype.componentDidMount=function(){this._componentDidUpdate()},n.prototype.render=function(){var t=this,n=this.props.className,i=this._generateTabs();return a.createElement("div",{className:r(n,c.tabs),"data-name":this.props["data-name"]},i,a.createElement(e,{reference:function(e){t._slider=e}}))},n.prototype._generateTabs=function(){var e=this;return this.activeTab.current=null,a.Children.map(this.props.children,(function(t){var n=t,i=Boolean(n.props.isActive),r={reference:function(t){i&&(e.activeTab.current=t),n.props.reference&&n.props.reference(t)}};return a.cloneElement(n,r)}))},n.prototype._componentDidUpdate=function(){var e=Object(s.ensureNotNull)(this._slider).style;if(this.activeTab.current){var t=this.activeTab.current.offsetWidth,n=this.activeTab.current.offsetLeft;e.transform="translateX("+n+"px)",e.width=t+"px",e.opacity="1"}else e.opacity="0"},n}(a.PureComponent)}var d=u((function(e){return a.createElement("div",{className:c.slider,ref:e.reference})}))},Od03:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=(n("YFKU"),n("q1tI")),r=n("17x9"),s=n("Eyy1"),c=n("1TxM"),o=Object(c.b)();function l(e){var t;return(t=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i._priceScale=null,i._handleSelect=function(){var e=i.context.chartWidget.model(),t=Object(s.ensureNotNull)(i.state.series),n=t.priceScale(),a=n.mode();t.priceScale().isLockScale()||e.setPriceScaleMode({log:!a.log},n,window.t("Toggle Log Scale"))},Object(c.c)(n,{chartWidget:r.any.isRequired}),i.state={isActive:!1,series:null},i}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){var e=this,t=this.context.chartWidget;t.withModel(null,(function(){var n=t.model().mainSeries(),i=n.priceScale();e._handleMainSeriesPriceScaleChanged(i),n.priceScaleChanged().subscribe(e,e._handleMainSeriesPriceScaleChanged),e._handleModeChanged({},i.mode()),e.setState({isActive:n.priceScale().isLog(),series:n})}))},n.prototype.componentWillUnmount=function(){
var e=this,t=this.context.chartWidget;t.withModel(null,(function(){t.model().mainSeries().priceScaleChanged().unsubscribe(e,e._handleMainSeriesPriceScaleChanged)})),null!==this._priceScale&&(this._priceScale.modeChanged().unsubscribeAll(this),this._priceScale=null)},n.prototype.render=function(){var t=this.props.className,n=this.state,i=n.isActive,r=n.series;return a.createElement(e,{className:t,isLogarithm:i,isDisabled:null===r,onClick:this._handleSelect})},n.prototype._handleMainSeriesPriceScaleChanged=function(e){var t={};null!==this._priceScale&&(t=this._priceScale.mode(),this._priceScale.modeChanged().unsubscribe(this,this._handleModeChanged)),this._priceScale=e,this._priceScale.modeChanged().subscribe(this,this._handleModeChanged),this._handleModeChanged(t,e.mode())},n.prototype._handleModeChanged=function(e,t){e.log!==t.log&&this.setState({isActive:t.log})},n}(a.PureComponent)).contextType=o,t}},RZ2Z:function(e,t,n){e.exports={slider:"slider-1ealLtjI",inner:"inner-3lmAEIjy"}},"W9Y+":function(e,t,n){e.exports={item:"item-3cgIlGYO",hover:"hover-2y46_KNk",isActive:"isActive-2M6dwA7-",isFirst:"isFirst-2kfAV5tf",isLast:"isLast-voJ1bqZh"}},"g/A1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),a=(n("YFKU"),n("q1tI")),r=n("17x9"),s=n("Kxc7"),c=n("dfhE"),o=n("Eyy1"),l=n("aIyQ"),u=n.n(l),d=n("PC8g"),h=n("1TxM"),p=Object(h.b)();function v(e){var t;return(t=function(t){function n(e,n){var i=t.call(this,e,n)||this;i._handleUpdate=function(e){i.setState(e)},i._handleSelectRange=function(e){Object(d.trackEvent)("GUI","Chart Bottom Toolbar","range "+e.value),i._binding.selectRange(e)},Object(h.c)(n,{availableTimeFrames:r.any.isRequired,chartWidgetCollection:r.any.isRequired,chartWidget:r.any.isRequired}),b.has(n.chartWidget)||b.set(n.chartWidget,new g(n));var a=i._binding=Object(o.ensureDefined)(b.get(n.chartWidget));return i.state=a.state(),i}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this._binding.onChange().subscribe(this,this._handleUpdate)},n.prototype.componentWillUnmount=function(){this._binding.onChange().unsubscribe(this,this._handleUpdate)},n.prototype.render=function(){return a.createElement(e,{goToDateButton:this.props.goToDateButton,className:this.props.className,ranges:this.state.ranges,activeRange:this.state.activeRange,onSelectRange:this._handleSelectRange})},n}(a.PureComponent)).contextType=p,t}var b=new WeakMap,g=function(){function e(e){var t=this;this._state={ranges:[]},this._change=new u.a;var n=(this._context=e).chartWidget;n.withModel(null,(function(){var e=n.model(),i=e.mainSeries();i.onStatusChanged().subscribe(t,t._updateAvailableRanges),s.enabled("update_timeframes_set_on_symbol_resolve")&&i.dataEvents().symbolResolved().subscribe(t,t._updateAvailableRanges),i.priceScale().properties().childs().lockScale.subscribe(t,t._updateAvailableRanges),i.onIntervalChanged().subscribe(t,t._onRangeChanged),e.model().onResetScales().subscribe(t,t._resetActiveInterval),i.dataEvents().symbolResolved().subscribe(t,t._resetActiveInterval),
i.properties().extendedHours.subscribe(t,t._resetActiveInterval),t._updateAvailableRanges()})),n.onScroll().subscribe(this,this._resetActiveInterval)}return e.prototype.state=function(){return this._state},e.prototype.onChange=function(){return this._change},e.prototype.selectRange=function(e){this._setState({activeRange:e.value});var t=this._context.chartWidgetCollection,n={val:e.value,res:e.targetResolution};t.setTimeFrame(n)},e.prototype.destroy=function(){var e=this,t=this._context.chartWidget;t.withModel(null,(function(){var n=t.model(),i=n.mainSeries();i.onStatusChanged().unsubscribe(e,e._updateAvailableRanges),s.enabled("update_timeframes_set_on_symbol_resolve")&&i.dataEvents().symbolResolved().unsubscribe(e,e._updateAvailableRanges),i.priceScale().properties().childs().lockScale.unsubscribe(e,e._updateAvailableRanges),i.onIntervalChanged().unsubscribe(e,e._onRangeChanged),n.model().onResetScales().unsubscribe(e,e._resetActiveInterval),i.dataEvents().symbolResolved().unsubscribe(e,e._resetActiveInterval),i.properties().extendedHours.unsubscribe(e,e._resetActiveInterval)})),t.onScroll().unsubscribe(this,this._resetActiveInterval),this._change.destroy()},e.prototype._setState=function(e){this._state=Object.assign({},this._state,e),this._change.fire(this._state)},e.prototype._onRangeChanged=function(e,t){this._setState({activeRange:t.timeframe})},e.prototype._resetActiveInterval=function(){this._setState({activeRange:void 0})},e.prototype._updateAvailableRanges=function(){var e=this._context,t=e.availableTimeFrames,n=e.chartWidget;if(n.model()){var i=n.model().mainSeries(),a=i.status();if(a!==c.STATUS_LOADING&&a!==c.STATUS_RESOLVING){var r=t(i.symbolInfo(),i.status());0!==r.length&&this._setState({ranges:r})}}},e}()},qSb5:function(e,t,n){e.exports={sliderRow:"sliderRow-Tv1W7hM5"}}}]);